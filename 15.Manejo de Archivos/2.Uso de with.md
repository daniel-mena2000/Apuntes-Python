
# Uso de with

## 🔹 ¿Qué es `with`?

Es un **administrador de contexto**.  
En el caso de archivos, su ventaja es que **abre el archivo y lo cierra automáticamente** cuando terminas de usarlo, incluso si ocurre un error dentro del bloque.

## 🔹 Ejemplo sin `with`

```python
archivo = open("prueba.txt", "r", encoding="utf8")
contenido = archivo.read()
print(contenido)
archivo.close()
```

>Aquí tú eres responsable de cerrar el archivo con `close()`.


## 🔹 Ejemplo con `with`

Usando `with`, no necesitas llamar a `close()`:

```python
with open("prueba.txt", "r", encoding="utf8") as archivo:
    contenido = archivo.read()
    print(contenido)
```

Cuando el bloque `with` termina, **Python cierra el archivo solo**.



🔹 Ejemplo copiando archivos

En tu caso (leer de `prueba.txt` y escribir en `copia.txt`):

```python
with open("prueba.txt", "r", encoding="utf8") as archivo:
    with open("copia.txt", "a", encoding="utf8") as archivo2:
        archivo2.write("\n" + archivo.read())
```


## 🔹 ¿Qué significa `as archivo`?

lo que ocurre es:

1. **`open("prueba.txt", "r", encoding="utf8")`** abre el archivo y devuelve un objeto de tipo **archivo**.
    
    - Ese objeto es el que normalmente guardarías en una variable asi:
- 
```python
archivo = open("prueba.txt", "r", encoding="utf8")
```

- La parte **`as archivo`** simplemente dice:
    
    > “Guarda ese objeto en una variable llamada `archivo` mientras dure este bloque”.
    
- Esa variable (`archivo`) es la que vas a usar dentro del bloque para leer o escribir.  
    Cuando el bloque termina, Python **cierra automáticamente el archivo** y la variable ya no se puede usar fuera.

