
# Uso de with

## ğŸ”¹ Â¿QuÃ© es `with`?

Es un **administrador de contexto**.  
En el caso de archivos, su ventaja es que **abre el archivo y lo cierra automÃ¡ticamente** cuando terminas de usarlo, incluso si ocurre un error dentro del bloque.

## ğŸ”¹ Ejemplo sin `with`

```python
archivo = open("prueba.txt", "r", encoding="utf8")
contenido = archivo.read()
print(contenido)
archivo.close()
```

>AquÃ­ tÃº eres responsable de cerrar el archivo con `close()`.


## ğŸ”¹ Ejemplo con `with`

Usando `with`, no necesitas llamar a `close()`:

```python
with open("prueba.txt", "r", encoding="utf8") as archivo:
    contenido = archivo.read()
    print(contenido)
```

Cuando el bloque `with` termina, **Python cierra el archivo solo**.



ğŸ”¹ Ejemplo copiando archivos

En tu caso (leer de `prueba.txt` y escribir en `copia.txt`):

```python
with open("prueba.txt", "r", encoding="utf8") as archivo:
    with open("copia.txt", "a", encoding="utf8") as archivo2:
        archivo2.write("\n" + archivo.read())
```


## ğŸ”¹ Â¿QuÃ© significa `as archivo`?

lo que ocurre es:

1. **`open("prueba.txt", "r", encoding="utf8")`** abre el archivo y devuelve un objeto de tipo **archivo**.
    
    - Ese objeto es el que normalmente guardarÃ­as en una variable asi:
- 
```python
archivo = open("prueba.txt", "r", encoding="utf8")
```

- La parte **`as archivo`** simplemente dice:
    
    > â€œGuarda ese objeto en una variable llamada `archivo` mientras dure este bloqueâ€.
    
- Esa variable (`archivo`) es la que vas a usar dentro del bloque para leer o escribir.  
    Cuando el bloque termina, Python **cierra automÃ¡ticamente el archivo** y la variable ya no se puede usar fuera.

